apiVersion: docgroup.com/v1alpha1
kind: DLCPod
metadata:
  name: cifar100
  namespace: default
spec:
  secret:
    name: dlcpod-client-credentials
  jobs:
  - name: job
    image: zhuangweikang/imagedatasets-dev:latest
    command: ["bash"]
    datasource:
      name: CIFAR100
      bucket: vuzhuangwei
      keys:
        train:
          samples:
            - CIFAR100/train/samples
          manifests: 
            - CIFAR100/train/manifest.csv
        validation:
          samples:
            - CIFAR100/val/samples
          manifests: 
            - CIFAR100/val/manifest.csv
    qos:
      usecache: true
      MaxPartMill: 10000
      lazyloading: true
    tty: true
    stdin: true
